<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>REAL MODE — 3D PHONE / LEVEL SYSTEM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#0a0a0a;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Inter,Arial,sans-serif;
  color:#fff;
  overflow:hidden;
}

/* ===== STAGE ===== */
#stage{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  perspective:1200px;
}

/* ===== 3D PHONE MOCKUP ===== */
#phone{
  width:390px;
  height:780px;
  background:#000;
  border-radius:34px;
  box-shadow:
    0 40px 80px rgba(0,0,0,.8),
    inset 0 0 0 2px #111;
  transform:
    rotateX(8deg)
    rotateY(-6deg)
    translateZ(0);
  display:flex;
  padding:18px 16px 22px;
}

/* SAFE AREA (ANTI KELUAR TIKTOK) */
#safe{
  flex:1;
  border-radius:26px;
  background:#000;
  padding:18px 14px 22px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

/* ===== MICRO MOTION (HALUS) ===== */
@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-4px)}
  100%{transform:translateY(0)}
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.015)}
  100%{transform:scale(1)}
}
.float{animation:float 4s ease-in-out infinite}
.pulse{animation:pulse 1.4s infinite}

/* ===== HEADER ===== */
#top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:13px;
  letter-spacing:.4px;
  color:#9ff;
}
#level{color:#fff}

/* ===== QUESTION ===== */
#question{
  font-size:20px;
  font-weight:600;
  line-height:1.35;
}

/* ===== OPTIONS ===== */
#options{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.option{
  padding:14px 14px;
  border-radius:14px;
  background:#0f0f0f;
  border:1px solid #222;
  font-size:15px;
}
.correct{background:#0b3;border-color:#0f0}
.wrong{background:#400;border-color:#f00}

/* ===== RATIONALE ===== */
#rationale{
  display:none;
  font-size:13px;
  line-height:1.45;
  color:#ddd;
  background:#0c0c0c;
  border-radius:14px;
  padding:12px;
}

/* ===== LEVEL UP ===== */
#levelUp{
  display:none;
  text-align:center;
  font-size:18px;
  font-weight:700;
  color:#0f0;
}
</style>
</head>

<body>
<div id="stage">
  <div id="phone" class="float">
    <div id="safe">
      <div id="top">
        <div id="timer">⏱ 6</div>
        <div id="level">LEVEL 1</div>
      </div>

      <div id="question"></div>
      <div id="options" class="pulse"></div>
      <div id="rationale"></div>
      <div id="levelUp">LEVEL UP</div>
    </div>
  </div>
</div>

<script>
/* ===== LEVELLED QUESTION BANK ===== */
const BANK=[
/* LEVEL 1 */
[
{q:"3/4 dari suatu bilangan adalah 18. 2/3 dari bilangan itu?",
 o:["8","12","16","18"],c:2,r:"Bilangan 24 → 2/3 × 24 = 16"}
],
/* LEVEL 2 (jebakan lebih rapat) */
[
{q:"Jika 40% dari x = 24, maka 3/5 x = ?",
 o:["24","30","36","40"],c:2,r:"40% = 2/5 → x=60 → 3/5×60=36"}
],
/* LEVEL 3 (logika formal) */
[
{q:"Jika P→Q. ¬Q. Kesimpulan?",
 o:["P","¬P","Q","Tidak pasti"],c:1,r:"Modus tollens → ¬P"}
]
];

let level=0,idx=0,time=6,lock=false,timer=null;

const elQ=question, elO=options, elR=rationale, elT=timer, elL=levelUp, elLv=document.getElementById("level");

load(); run();

/* ===== CORE ===== */
function load(){
 lock=false; time=6; upd();
 elLv.textContent="LEVEL "+(level+1);
 elL.style.display="none";
 elR.style.display="none";
 const q=BANK[level][idx];
 elQ.textContent=q.q;
 elO.innerHTML="";
 q.o.forEach((x,i)=>{
  const d=document.createElement("div");
  d.className="option";
  d.textContent=x;
  d.onclick=()=>pick(i);
  elO.appendChild(d);
 });
}

function pick(i){
 if(lock)return;
 lock=true; clearInterval(timer);
 const q=BANK[level][idx];
 [...document.querySelectorAll(".option")].forEach((e,k)=>{
  if(k===q.c)e.classList.add("correct");
  else if(k===i)e.classList.add("wrong");
 });
 setTimeout(()=>show(q),600);
}

function show(q){
 elR.textContent=q.r;
 elR.style.display="block";
 setTimeout(next,800);
}

function next(){
 idx++;
 if(idx>=BANK[level].length){
  level++;
  idx=0;
  if(level>=BANK.length){
    elL.textContent="MAX LEVEL";
    elL.style.display="block";
    return;
  }
  elL.style.display="block";
  setTimeout(load,900);
 }else{
  load();
 }
 run();
}

function run(){
 clearInterval(timer);
 timer=setInterval(()=>{
  time--; upd();
  if(time<=0){
   clearInterval(timer);
   auto();
  }
 },1000);
}

function auto(){
 if(lock)return;
 lock=true;
 const q=BANK[level][idx];
 document.querySelectorAll(".option")[q.c].classList.add("correct");
 setTimeout(()=>show(q),600);
}

function upd(){ elT.textContent="⏱ "+time }
</script>
</body>
</html>
